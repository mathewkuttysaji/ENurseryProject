{% extends "base.html" %} {% block content %}

<!-- Start Hero Section -->
<div class="hero">
  <div class="container">
    <div class="row justify-content-between">
      <div class="col-lg-5">
        <div class="intro-excerpt">
          <h1>Edit Profile</h1>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- End Hero Section -->

<div class="untree_co-section">
  <div class="container">
    <div class="row">
      <div class="col-md-12 mb-5 mb-md-0">
        <h2 class="h3 mb-3 text-black">Edit Profile</h2>
        <div class="p-3 p-lg-5 border bg-white">
          <form action="{% url 'editprofile' %}" method="post">
            {% csrf_token %} 
            {% if messages %} 
            <div class="messages">
              {% for message in messages %}
              <div class="alert {% if message.tags %}alert-{{ message.tags }} {% endif%}">
                {{ message }}
              </div>
              {% endfor %}
            </div>
            {% endif %}

            <div class="form-group row">
              <div class="col-6">
                {{ user_form.name.label_tag }} {{ user_form.name }} {{user_form.name.errors }}
              </div>
              <div class="col-6">
                {{ user_form.phone.label_tag }} {{ user_form.phone }} {{ user_form.phone.errors }}
              </div>
            </div>

            <div class="form-group row">
              <div class="col-6">
                {{ user_form.email.label_tag }} {{ user_form.email }} {{ user_form.email.errors }}
              </div>
              <div class="col-6">
                {{ password_form.old_password.label_tag }} {{ password_form.old_password }} {{ password_form.old_password.errors }}
              </div>
            </div>

            <div class="form-group row">
              <div class="col-6">
                {{ password_form.new_password1.label_tag }} {{ password_form.new_password1 }} {{ password_form.new_password1.errors }}
              </div>
              <div class="col-6">
                {{ password_form.new_password2.label_tag }} {{ password_form.new_password2 }} {{ password_form.new_password2.errors }}
              </div>
            </div>

            {% if not messages %}
            <div class="row">
              <div class="d-grid gap-2 col-6 mx-auto mt-4">
                <input
                  type="submit"
                  value="Save Changes"
                  class="btn btn-primary" />
              </div>
            </div>
            {% endif %}
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
